Step: build-step-credential-initializer:

{"level":"warn","ts":1547630121.2784715,"logger":"fallback-logger","caller":"logging/config.go:65","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/test\" is not a valid GitHub commit ID"}
{"level":"info","ts":1547630121.2790215,"logger":"fallback-logger","caller":"creds-init/main.go:40","msg":"Credentials initialized."}
Step: build-step-git-source-0:

{"level":"warn","ts":1547630122.7479892,"logger":"fallback-logger","caller":"logging/config.go:65","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/test\" is not a valid GitHub commit ID"}
{"level":"info","ts":1547630125.2462983,"logger":"fallback-logger","caller":"git-init/main.go:92","msg":"Successfully cloned \"https://github.com/cloudbees/core-frontend.git\" @ \"e4f0294e9394a9cd183e6c60b09620ea26c3ad39\" in path \"/workspace\""}
Step: build-step-jenkins:

Picked up _JAVA_OPTIONS: -Xmx400m
Started
Running in Durability level: PERFORMANCE_OPTIMIZED
  12.576 [id=41]	WARNING	i.f.k.c.i.VersionUsageUtils#alert: The client is using resource type 'customresourcedefinitions' with unstable version 'v1beta1'
  23.815 [id=58]	WARNING	o.j.plugins.workflow.cps.DSL#invokeStep: Error storing the arguments for step: checkout
org.kohsuke.stapler.NoStaplerConstructorException: There's no @DataBoundConstructor on any constructor of class io.jenkins.jenkinsfile.runner.FileSystemSCM
	at org.kohsuke.stapler.ClassDescriptor.loadConstructorParamNames(ClassDescriptor.java:265)
	at org.jenkinsci.plugins.structs.describable.DescribableModel.<init>(DescribableModel.java:144)
	at org.jenkinsci.plugins.structs.describable.DescribableModel.of(DescribableModel.java:114)
	at org.jenkinsci.plugins.workflow.cps.actions.ArgumentsActionImpl.sanitizeObjectAndRecordMutation(ArgumentsActionImpl.java:294)
	at org.jenkinsci.plugins.workflow.cps.actions.ArgumentsActionImpl.sanitizeMapAndRecordMutation(ArgumentsActionImpl.java:386)
	at org.jenkinsci.plugins.workflow.cps.actions.ArgumentsActionImpl.<init>(ArgumentsActionImpl.java:74)
	at org.jenkinsci.plugins.workflow.cps.DSL.invokeStep(DSL.java:245)
	at org.jenkinsci.plugins.workflow.cps.DSL.invokeMethod(DSL.java:178)
	at org.jenkinsci.plugins.workflow.cps.CpsScript.invokeMethod(CpsScript.java:122)
	at org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.call(PogoMetaClassSite.java:48)
	at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:113)
	at com.cloudbees.groovy.cps.sandbox.DefaultInvoker.methodCall(DefaultInvoker.java:20)
	at com.cloudbees.groovy.cps.impl.ContinuationGroup.methodCall(ContinuationGroup.java:57)
	at com.cloudbees.groovy.cps.impl.FunctionCallBlock$ContinuationImpl.dispatchOrArg(FunctionCallBlock.java:109)
	at com.cloudbees.groovy.cps.impl.FunctionCallBlock$ContinuationImpl.fixArg(FunctionCallBlock.java:82)
	at sun.reflect.GeneratedMethodAccessor147.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.cloudbees.groovy.cps.impl.ContinuationPtr$ContinuationImpl.receive(ContinuationPtr.java:72)
	at com.cloudbees.groovy.cps.impl.PropertyishBlock$ContinuationImpl.get(PropertyishBlock.java:76)
	at com.cloudbees.groovy.cps.LValueBlock$GetAdapter.receive(LValueBlock.java:30)
	at com.cloudbees.groovy.cps.impl.PropertyishBlock$ContinuationImpl.fixName(PropertyishBlock.java:66)
	at sun.reflect.GeneratedMethodAccessor151.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.cloudbees.groovy.cps.impl.ContinuationPtr$ContinuationImpl.receive(ContinuationPtr.java:72)
	at com.cloudbees.groovy.cps.impl.ConstantBlock.eval(ConstantBlock.java:21)
	at com.cloudbees.groovy.cps.Next.step(Next.java:83)
	at com.cloudbees.groovy.cps.Continuable$1.call(Continuable.java:174)
	at com.cloudbees.groovy.cps.Continuable$1.call(Continuable.java:163)
	at org.codehaus.groovy.runtime.GroovyCategorySupport$ThreadCategoryInfo.use(GroovyCategorySupport.java:129)
	at org.codehaus.groovy.runtime.GroovyCategorySupport.use(GroovyCategorySupport.java:268)
	at com.cloudbees.groovy.cps.Continuable.run0(Continuable.java:163)
	at org.jenkinsci.plugins.workflow.cps.SandboxContinuable.access$101(SandboxContinuable.java:34)
	at org.jenkinsci.plugins.workflow.cps.SandboxContinuable.lambda$run0$0(SandboxContinuable.java:59)
	at org.jenkinsci.plugins.scriptsecurity.sandbox.groovy.GroovySandbox.runInSandbox(GroovySandbox.java:108)
	at org.jenkinsci.plugins.workflow.cps.SandboxContinuable.run0(SandboxContinuable.java:58)
	at org.jenkinsci.plugins.workflow.cps.CpsThread.runNextChunk(CpsThread.java:182)
	at org.jenkinsci.plugins.workflow.cps.CpsThreadGroup.run(CpsThreadGroup.java:332)
	at org.jenkinsci.plugins.workflow.cps.CpsThreadGroup.access$200(CpsThreadGroup.java:83)
	at org.jenkinsci.plugins.workflow.cps.CpsThreadGroup$2.call(CpsThreadGroup.java:244)
	at org.jenkinsci.plugins.workflow.cps.CpsThreadGroup$2.call(CpsThreadGroup.java:232)
	at org.jenkinsci.plugins.workflow.cps.CpsVmExecutorService$2.call(CpsVmExecutorService.java:64)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at hudson.remoting.SingleLaneExecutorService$1.run(SingleLaneExecutorService.java:131)
	at jenkins.util.ContextResettingExecutorService$1.run(ContextResettingExecutorService.java:28)
	at jenkins.security.ImpersonatingExecutorService$1.run(ImpersonatingExecutorService.java:59)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
[Pipeline] node
Running on Jenkins in /tmp/jenkinsTests.tmp/jenkins5732271979740946594test/workspace/job
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Declarative: Checkout SCM)
[Pipeline] checkout
[Pipeline] }
[Pipeline] // stage
  24.913 [id=58]	WARNING	o.j.plugins.workflow.cps.DSL#invokeStep: Error storing the arguments for step: checkout
org.kohsuke.stapler.NoStaplerConstructorException: There's no @DataBoundConstructor on any constructor of class io.jenkins.jenkinsfile.runner.FileSystemSCM
	at org.kohsuke.stapler.ClassDescriptor.loadConstructorParamNames(ClassDescriptor.java:265)
	at org.jenkinsci.plugins.structs.describable.DescribableModel.<init>(DescribableModel.java:144)
	at org.jenkinsci.plugins.structs.describable.DescribableModel.of(DescribableModel.java:114)
	at org.jenkinsci.plugins.workflow.cps.actions.ArgumentsActionImpl.sanitizeObjectAndRecordMutation(ArgumentsActionImpl.java:294)
	at org.jenkinsci.plugins.workflow.cps.actions.ArgumentsActionImpl.sanitizeMapAndRecordMutation(ArgumentsActionImpl.java:386)
	at org.jenkinsci.plugins.workflow.cps.actions.ArgumentsActionImpl.<init>(ArgumentsActionImpl.java:74)
	at org.jenkinsci.plugins.workflow.cps.DSL.invokeStep(DSL.java:245)
	at org.jenkinsci.plugins.workflow.cps.DSL.invokeMethod(DSL.java:178)
	at org.jenkinsci.plugins.workflow.cps.CpsScript.invokeMethod(CpsScript.java:122)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:93)
	at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1213)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1022)
	at org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.call(PogoMetaClassSite.java:42)
	at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:113)
	at org.kohsuke.groovy.sandbox.impl.Checker$1.call(Checker.java:157)
	at org.kohsuke.groovy.sandbox.GroovyInterceptor.onMethodCall(GroovyInterceptor.java:23)
	at org.jenkinsci.plugins.scriptsecurity.sandbox.groovy.SandboxInterceptor.onMethodCall(SandboxInterceptor.java:155)
	at org.kohsuke.groovy.sandbox.impl.Checker$1.call(Checker.java:155)
	at org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:159)
	at org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:129)
	at com.cloudbees.groovy.cps.sandbox.SandboxInvoker.methodCall(SandboxInvoker.java:17)
	at com.cloudbees.groovy.cps.impl.ContinuationGroup.methodCall(ContinuationGroup.java:57)
	at com.cloudbees.groovy.cps.impl.FunctionCallBlock$ContinuationImpl.dispatchOrArg(FunctionCallBlock.java:109)
	at com.cloudbees.groovy.cps.impl.FunctionCallBlock$ContinuationImpl.fixArg(FunctionCallBlock.java:82)
	at sun.reflect.GeneratedMethodAccessor147.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.cloudbees.groovy.cps.impl.ContinuationPtr$ContinuationImpl.receive(ContinuationPtr.java:72)
	at com.cloudbees.groovy.cps.impl.PropertyishBlock$ContinuationImpl.get(PropertyishBlock.java:76)
	at com.cloudbees.groovy.cps.LValueBlock$GetAdapter.receive(LValueBlock.java:30)
	at com.cloudbees.groovy.cps.impl.PropertyishBlock$ContinuationImpl.fixName(PropertyishBlock.java:66)
	at sun.reflect.GeneratedMethodAccessor151.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.cloudbees.groovy.cps.impl.ContinuationPtr$ContinuationImpl.receive(ContinuationPtr.java:72)
	at com.cloudbees.groovy.cps.impl.ConstantBlock.eval(ConstantBlock.java:21)
	at com.cloudbees.groovy.cps.Next.step(Next.java:83)
	at com.cloudbees.groovy.cps.Continuable$1.call(Continuable.java:174)
	at com.cloudbees.groovy.cps.Continuable$1.call(Continuable.java:163)
	at org.codehaus.groovy.runtime.GroovyCategorySupport$ThreadCategoryInfo.use(GroovyCategorySupport.java:129)
	at org.codehaus.groovy.runtime.GroovyCategorySupport.use(GroovyCategorySupport.java:268)
	at com.cloudbees.groovy.cps.Continuable.run0(Continuable.java:163)
	at org.jenkinsci.plugins.workflow.cps.SandboxContinuable.access$101(SandboxContinuable.java:34)
	at org.jenkinsci.plugins.workflow.cps.SandboxContinuable.lambda$run0$0(SandboxContinuable.java:59)
	at org.jenkinsci.plugins.scriptsecurity.sandbox.groovy.GroovySandbox.runInSandbox(GroovySandbox.java:108)
	at org.jenkinsci.plugins.workflow.cps.SandboxContinuable.run0(SandboxContinuable.java:58)
	at org.jenkinsci.plugins.workflow.cps.CpsThread.runNextChunk(CpsThread.java:182)
	at org.jenkinsci.plugins.workflow.cps.CpsThreadGroup.run(CpsThreadGroup.java:332)
	at org.jenkinsci.plugins.workflow.cps.CpsThreadGroup.access$200(CpsThreadGroup.java:83)
	at org.jenkinsci.plugins.workflow.cps.CpsThreadGroup$2.call(CpsThreadGroup.java:244)
	at org.jenkinsci.plugins.workflow.cps.CpsThreadGroup$2.call(CpsThreadGroup.java:232)
	at org.jenkinsci.plugins.workflow.cps.CpsVmExecutorService$2.call(CpsVmExecutorService.java:64)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at hudson.remoting.SingleLaneExecutorService$1.run(SingleLaneExecutorService.java:131)
	at jenkins.util.ContextResettingExecutorService$1.run(ContextResettingExecutorService.java:28)
	at jenkins.security.ImpersonatingExecutorService$1.run(ImpersonatingExecutorService.java:59)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
[Pipeline] withCredentials
[Pipeline] {
[Pipeline] withEnv
[Pipeline] {
[Pipeline] stage
[Pipeline] { (CI Build and deploy preview)
[Pipeline] withEnv
[Pipeline] {
[Pipeline] checkout
[Pipeline] sh
+ ./scripts/ci/feature.sh
+ set -e
+ npm install -g yarn
/usr/bin/yarn -> /usr/lib/node_modules/yarn/bin/yarn.js
/usr/bin/yarnpkg -> /usr/lib/node_modules/yarn/bin/yarn.js
+ yarn@1.13.0
added 1 package in 0.879s
+ npm -v
5.6.0
+ node -v
v9.11.2
+ yarn -v
1.3.2
+ yarn install --ignore-engines
yarn install v1.3.2
[1/4] Resolving packages...
[2/4] Fetching packages...
info fsevents@1.2.4: The platform "linux" is incompatible with this module.
info "fsevents@1.2.4" is an optional dependency and failed compatibility check. Excluding it from installation.
[3/4] Linking dependencies...
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-data@1.0.0" has unmet peer dependency "mobx@^5.5.2".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-data@1.0.0" has unmet peer dependency "mobx-react@^5.3.6".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-data@1.0.0" has unmet peer dependency "mobx-state-tree@^3.7.1".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-data@1.0.0" has unmet peer dependency "react@^16.6.0".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-shipyard@1.0.0" has unmet peer dependency "react@^16.6.0".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-shipyard@1.0.0" has unmet peer dependency "react-dom@^16.6.0".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-api > ts-jest@23.10.5" has unmet peer dependency "jest@>=22 <24".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-shipyard > formik@1.4.1" has unmet peer dependency "react@>=15".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-shipyard > react-gravatar@2.6.3" has unmet peer dependency "react@*".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-shipyard > react-modal@3.8.1" has unmet peer dependency "react@^0.14.0 || ^15.0.0 || ^16".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-shipyard > react-outside-click-handler@1.2.2" has unmet peer dependency "react@^0.14 || >=15".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-shipyard > react-select@2.2.0" has unmet peer dependency "react@^15.3.0 || ^16.0.0".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-shipyard > react-transition-group@2.5.2" has unmet peer dependency "react@>=15.0.0".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-shipyard > react-virtualized@9.21.0" has unmet peer dependency "react@^15.3.0 || ^16.0.0-alpha".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-shipyard > @storybook/addon-actions@4.1.4" has unmet peer dependency "react@*".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-shipyard > @storybook/addon-info@3.4.11" has unmet peer dependency "react@*".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-shipyard > @storybook/addon-jest@3.4.11" has unmet peer dependency "@storybook/addons@^3.3.0".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-shipyard > @storybook/addon-jest@3.4.11" has unmet peer dependency "react@*".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-shipyard > @storybook/addon-options@3.4.11" has unmet peer dependency "@storybook/addons@^3.3.0".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-shipyard > @storybook/addon-options@3.4.11" has unmet peer dependency "react@*".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-shipyard > @storybook/react@4.1.4" has unmet peer dependency "react@^16.6.0".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-shipyard > env-var-helpers@4.1.0" has unmet peer dependency "lodash@^4.x".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-shipyard > enzyme-adapter-react-16@1.7.1" has unmet peer dependency "react@^16.0.0-0".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-shipyard > react-dom@16.7.0" has unmet peer dependency "react@^16.0.0".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-shipyard > react-test-renderer@16.7.0" has unmet peer dependency "react@^16.0.0".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-ui > @expantra/pipeline-widget-proto@0.0.2-JW" has unmet peer dependency "react@^16.4.1".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-ui > @expantra/pipeline-widget-proto@0.0.2-JW" has unmet peer dependency "react-dom@^16.4.1".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-ui > mst-middlewares@3.6.0" has unmet peer dependency "mobx-state-tree@^3.4.0".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-ui > react-copy-to-clipboard@5.0.1" has unmet peer dependency "react@^15.3.0 || ^16.0.0".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-ui > react-hotkeys@1.1.4" has unmet peer dependency "react@>= 0.14.0".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-ui > react-hotkeys@1.1.4" has unmet peer dependency "react-dom@>= 0.14.0".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-ui > react-lazylog@3.2.0" has unmet peer dependency "react@>=16.3.0".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-ui > react-router@4.2.0" has unmet peer dependency "react@>=15".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-ui > react-router-dom@4.2.2" has unmet peer dependency "react@>=15".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-shipyard > formik > create-react-context@0.2.3" has unmet peer dependency "react@^0.14.0 || ^15.0.0 || ^16.0.0".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-shipyard > react-outside-click-handler > airbnb-prop-types@2.11.0" has unmet peer dependency "react@^0.14 || ^15.0.0 || ^16.0.0-alpha".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-shipyard > react-select > react-input-autosize@2.2.1" has unmet peer dependency "react@^0.14.9 || ^15.3.0 || ^16.0.0-rc || ^16.0".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-shipyard > @storybook/addon-actions > @emotion/core@0.13.1" has unmet peer dependency "react@>=16.3.0".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-shipyard > @storybook/addon-actions > @emotion/provider@0.11.2" has unmet peer dependency "react@>=16.3.0".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-shipyard > @storybook/addon-actions > @storybook/components@4.1.4" has unmet peer dependency "react@*".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-shipyard > @storybook/addon-actions > react-inspector@2.3.1" has unmet peer dependency "react@^0.14.0 || ^15.0.0 || ^16.0.0".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-shipyard > @storybook/addon-info > @storybook/components@3.4.11" has unmet peer dependency "react@*".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-shipyard > @storybook/addon-storyshots > jest-specific-snapshot@1.0.0" has unmet peer dependency "jest@*".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-shipyard > @storybook/react > @storybook/core@4.1.4" has unmet peer dependency "react@>=16.3.0".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-shipyard > env-var-helpers > mad-logs@10.3.6" has unmet peer dependency "lodash@^4.x".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-shipyard > enzyme-adapter-react-16 > enzyme-adapter-utils@1.9.0" has unmet peer dependency "react@0.13.x || 0.14.x || ^15.0.0-0 || ^16.0.0-0".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-ui > react-document-title > react-side-effect@1.1.5" has unmet peer dependency "react@^0.13.0 || ^0.14.0 || ^15.0.0 || ^16.0.0".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-ui > react-router-dom > react-router@4.3.1" has unmet peer dependency "react@>=15".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-shipyard > @storybook/addon-actions > @emotion/styled > @emotion/styled-base@0.10.6" has unmet peer dependency "react@>=16.3.0".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-shipyard > @storybook/addon-actions > @storybook/components > react-textarea-autosize@7.1.0" has unmet peer dependency "react@>=0.14.0 <17.0.0".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-shipyard > @storybook/addon-actions > @storybook/components > render-fragment@0.1.1" has unmet peer dependency "react@^15.0.0 || ^16.0.0".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-shipyard > @storybook/addon-actions > @storybook/components > render-fragment@0.1.1" has unmet peer dependency "prop-types@^15.0.0 || ^16.0.0".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-shipyard > @storybook/react > @storybook/core > @storybook/ui@4.1.4" has unmet peer dependency "react@*".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-shipyard > env-var-helpers > mad-logs > env-var-helpers@5.2.0" has unmet peer dependency "lodash@^4.x".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-shipyard > @storybook/react > @storybook/core > @storybook/ui > @storybook/react-komposer@2.0.5" has unmet peer dependency "react@^0.14.7 || ^15.0.0 || ^16.0.0".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-shipyard > @storybook/react > @storybook/core > @storybook/ui > react-fuzzy@0.5.2" has unmet peer dependency "react@^0.14.7 || ^15.0.0 || ^16.0.0".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-shipyard > @storybook/react > @storybook/core > @storybook/ui > react-treebeard@3.1.0" has unmet peer dependency "@emotion/styled@^0.10.6".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-shipyard > @storybook/react > @storybook/core > @storybook/ui > react-treebeard@3.1.0" has unmet peer dependency "react@^15.5.4 || ^16.0.0".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-shipyard > @storybook/react > @storybook/core > @storybook/ui > @storybook/mantra-core > @storybook/react-simple-di@1.3.0" has unmet peer dependency "react@^0.14.0 || ^15.0.0 || ^16.0.0".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-shipyard > @storybook/react > @storybook/core > @storybook/ui > @storybook/react-komposer > @storybook/react-stubber@1.0.1" has unmet peer dependency "react@^0.14.7 || ^15.0.0 || ^16.0.0".
warning "workspace-aggregator-38115846-f481-4e63-a2d2-408cd14aec1b > @cloudbees/core-shipyard > @storybook/react > @storybook/core > @storybook/ui > react-treebeard > velocity-react@1.4.1" has unmet peer dependency "react@^15.3.0 || ^16.0.0".
[4/4] Building fresh packages...
Done in 98.53s.
+ yarn build-packages
yarn run v1.3.2
$ lerna run build --ignore '@cloudbees/*-ui'
lerna notice cli v3.8.4
lerna info versioning independent
lerna info ci enabled
lerna info filter [ '!@cloudbees/*-ui' ]
lerna info Executing command in 4 packages: "yarn run build"
lerna info run Ran npm script 'build' in '@cloudbees/core-api' in 5.7s:
$ rimraf ./dist && tsc -p ./tsconfig.build.json
lerna info run Ran npm script 'build' in '@cloudbees/core-flags' in 5.8s:
$ rimraf ./dist && tsc -p ./tsconfig.build.json
lerna info run Ran npm script 'build' in '@cloudbees/core-shipyard' in 12.1s:
$ rimraf ./dist && tsc -p ./tsconfig.build.json && yarn run build-css && yarn run copy-assets
$ node-sass --importer ../../node_modules/node-sass-package-importer/dist/cli.js src/styles/shipyard.scss dist/index.css
Rendering Complete, saving .css file...
Wrote CSS to /tmp/jenkinsTests.tmp/jenkins5732271979740946594test/workspace/job/packages/core-shipyard/dist/index.css
$ cd src/ && cpx './**/*.{scss, css}' ../dist
lerna info run Ran npm script 'build' in '@cloudbees/core-data' in 4.5s:
$ rimraf ./dist && tsc -p ./tsconfig.build.json
lerna success run Ran npm script 'build' in 4 packages in 16.5s:
lerna success - @cloudbees/core-api
lerna success - @cloudbees/core-data
lerna success - @cloudbees/core-flags
lerna success - @cloudbees/core-shipyard
Done in 17.24s.
+ yarn test
yarn run v1.3.2
$ cross-env NODE_ENV='ci' lerna run test --stream
lerna notice cli v3.8.4
lerna info versioning independent
lerna info ci enabled
lerna info Executing command in 5 packages: "yarn run test"
@cloudbees/core-api: warning package.json: No license field
@cloudbees/core-flags: warning package.json: No license field
@cloudbees/core-shipyard: warning package.json: No license field
@cloudbees/core-api: $ jest
@cloudbees/core-flags: $ jest || true
@cloudbees/core-shipyard: $ jest
@cloudbees/core-flags: No tests found
@cloudbees/core-flags: In /tmp/jenkinsTests.tmp/jenkins5732271979740946594test/workspace/job/packages/core-flags
@cloudbees/core-flags:   7 files checked.
@cloudbees/core-flags:   testMatch: **/__tests__/**/*.js?(x),**/?(*.)+(spec|test).js?(x) - 0 matches
@cloudbees/core-flags:   testPathIgnorePatterns: /node_modules/ - 7 matches
@cloudbees/core-flags: Pattern:  - 0 matches
@cloudbees/core-api: PASS src/auth.spec.ts (17.454s)
@cloudbees/core-api:   auth
@cloudbees/core-api:     ✓ should be able to call signOut (8ms)
@cloudbees/core-api: Test Suites: 1 passed, 1 total
@cloudbees/core-api: Tests:       1 passed, 1 total
@cloudbees/core-api: Snapshots:   0 total
@cloudbees/core-api: Time:        17.506s
@cloudbees/core-api: Ran all test suites.
@cloudbees/core-shipyard: PASS src/components/menu/Menu.spec.tsx
@cloudbees/core-shipyard: PASS src/components/button/Button.spec.tsx
@cloudbees/core-shipyard: PASS src/components/card/Card.spec.tsx
@cloudbees/core-shipyard: PASS src/components/icon/Icon.spec.tsx
@cloudbees/core-shipyard: PASS src/components/modal/Modal.spec.tsx
@cloudbees/core-shipyard: PASS tests/shots.js (17.954s)
@cloudbees/core-shipyard:   ● Console
@cloudbees/core-shipyard:     console.warn src/utils/stories/withComponentTests.ts:8
@cloudbees/core-shipyard:       No tests results available
@cloudbees/core-shipyard: Test Suites: 6 passed, 6 total
@cloudbees/core-shipyard: Tests:       80 passed, 80 total
@cloudbees/core-shipyard: Snapshots:   67 passed, 67 total
@cloudbees/core-shipyard: Time:        44.148s
@cloudbees/core-shipyard: Ran all test suites.
@cloudbees/core-data: warning package.json: No license field
@cloudbees/core-data: $ jest
@cloudbees/core-data: PASS src/utils/ifEmptyThen.spec.ts
@cloudbees/core-data: PASS src/utils/connect.spec.tsx
@cloudbees/core-data: Test Suites: 2 passed, 2 total
@cloudbees/core-data: Tests:       8 passed, 8 total
@cloudbees/core-data: Snapshots:   0 total
@cloudbees/core-data: Time:        7.148s
@cloudbees/core-data: Ran all test suites.
@cloudbees/core-ui: $ jest
@cloudbees/core-ui: PASS tests/shots.js (39.28s)
@cloudbees/core-ui:   Storyshots
@cloudbees/core-ui:     Members
@cloudbees/core-ui:       ✓ MemberList 📷 (103ms)
@cloudbees/core-ui:     Teams
@cloudbees/core-ui:       ✓ TeamList 📷 (44ms)
@cloudbees/core-ui: Test Suites: 1 passed, 1 total
@cloudbees/core-ui: Tests:       2 passed, 2 total
@cloudbees/core-ui: Snapshots:   2 passed, 2 total
@cloudbees/core-ui: Time:        44.323s
@cloudbees/core-ui: Ran all test suites.
lerna success run Ran npm script 'test' in 5 packages in 100.6s:
lerna success - @cloudbees/core-api
lerna success - @cloudbees/core-data
lerna success - @cloudbees/core-flags
lerna success - @cloudbees/core-shipyard
lerna success - @cloudbees/core-ui
Done in 101.49s.
+ yarn build
yarn run v1.3.2
$ lerna run build --scope '@cloudbees/*-ui'
lerna notice cli v3.8.4
lerna info versioning independent
lerna info ci enabled
lerna info filter [ '@cloudbees/*-ui' ]
lerna info Executing command in 1 package: "yarn run build"
lerna info run Ran npm script 'build' in '@cloudbees/core-ui' in 61.0s:
$ rimraf ../../build && cross-env NODE_ENV='production' webpack --config=./webpack/web.js --progress -p
Starting type checking service...
Using 1 worker with 2048MB memory limit
Hash: 8c0dc6693417680a5c8c
Version: webpack 4.28.3
Time: 58061ms
Built at: 2019-01-16 09:20:36
                             Asset       Size  Chunks                    Chunk Names
                       favicon.ico    7.7 KiB          [emitted]         
    index.8c0dc6693417680a5c8c.css    188 KiB       0  [emitted]         index
index.8c0dc6693417680a5c8c.css.map  107 bytes       0  [emitted]         index
     index.8c0dc6693417680a5c8c.js   1.45 MiB       0  [emitted]  [big]  index
 index.8c0dc6693417680a5c8c.js.map   5.22 MiB       0  [emitted]         index
                        index.html  662 bytes          [emitted]         
Entrypoint index [big] = index.8c0dc6693417680a5c8c.js index.8c0dc6693417680a5c8c.css index.8c0dc6693417680a5c8c.js.map index.8c0dc6693417680a5c8c.css.map
 [20] (webpack)/buildin/global.js 472 bytes {0} [built]
 [42] (webpack)/buildin/module.js 497 bytes {0} [built]
 [50] /tmp/jenkinsTests.tmp/jenkins5732271979740946594test/workspace/job/node_modules/react-virtualized/dist/es/index.js + 65 modules 319 KiB {0} [built]
      |    66 modules
[122] (webpack)/buildin/harmony-module.js 573 bytes {0} [built]
[360] multi ./src/index.tsx 28 bytes {0} [built]
[607] /tmp/jenkinsTests.tmp/jenkins5732271979740946594test/workspace/job/node_modules/moment/locale sync ^\.\/.*$ 2.93 KiB {0} [optional] [built]
[619] ./src/index.tsx + 372 modules 1.19 MiB {0} [built]
      | ./src/index.tsx 243 bytes [built]
      | ../core-flags/src/context.tsx 891 bytes [built]
      | ./src/flags.ts 203 bytes [built]
      | ./src/pages/index.tsx 2.24 KiB [built]
      | ./src/store.ts 909 bytes [built]
      | ../core-shipyard/src/styles/index.ts 251 KiB [built]
      | ../core-flags/src/storage.ts 344 bytes [built]
      | ../core-shipyard/src/icons/CloudbeesCoreLogo.tsx 2.96 KiB [built]
      | ../core-api/src/fetch.ts 270 bytes [built]
      | ./src/pages/projects.tsx 5.56 KiB [built]
      | ./src/pages/teams.tsx 1.41 KiB [built]
      | ../core-data/src/models/Teams.ts 7.62 KiB [built]
      | ../core-data/src/models/Users.ts 3.44 KiB [built]
      | ../core-data/src/utils/connect.tsx 6.99 KiB [built]
      | ../core-shipyard/src/icons/Activity.tsx 2.06 KiB [built]
      |     + 358 hidden modules
[627] ../core-shipyard/src/styles/shipyard.scss 41 bytes [built]
[628] /tmp/jenkinsTests.tmp/jenkins5732271979740946594test/workspace/job/node_modules/css-loader??ref--5-2!/tmp/jenkinsTests.tmp/jenkins5732271979740946594test/workspace/job/node_modules/sass-loader/lib/loader.js!../core-shipyard/src/styles/shipyard.scss 190 KiB [built]
    + 620 hidden modules

WARNING in asset size limit: The following asset(s) exceed the recommended size limit (244 KiB).
This can impact web performance.
Assets: 
  index.8c0dc6693417680a5c8c.js (1.45 MiB)

WARNING in entrypoint size limit: The following entrypoint(s) combined asset size exceeds the recommended limit (244 KiB). This can impact web performance.
Entrypoints:
  index (1.63 MiB)
      index.8c0dc6693417680a5c8c.js
      index.8c0dc6693417680a5c8c.css


WARNING in webpack performance recommendations: 
You can limit the size of your bundles by using import() or require.ensure to lazy load some parts of your application.
For more info visit https://webpack.js.org/guides/code-splitting/
Child extract-text-webpack-plugin ../../node_modules/extract-text-webpack-plugin/dist ../../node_modules/css-loader/index.js??ref--5-2!../../node_modules/sass-loader/lib/loader.js!../../node_modules/@expantra/pipeline-widget-proto/styles/css/main.css:
    Entrypoint undefined = extract-text-webpack-plugin-output-filename
       2 modules
Child extract-text-webpack-plugin ../../node_modules/extract-text-webpack-plugin/dist ../../node_modules/css-loader/index.js??ref--5-2!../../node_modules/sass-loader/lib/loader.js!../../node_modules/react-virtualized/styles.css:
    Entrypoint undefined = extract-text-webpack-plugin-output-filename
       2 modules
Child extract-text-webpack-plugin ../../node_modules/extract-text-webpack-plugin/dist ../../node_modules/css-loader/index.js??ref--5-2!../../node_modules/sass-loader/lib/loader.js!../core-shipyard/src/styles/shipyard.scss:
    Entrypoint undefined = extract-text-webpack-plugin-output-filename
    [0] /tmp/jenkinsTests.tmp/jenkins5732271979740946594test/workspace/job/node_modules/css-loader??ref--5-2!/tmp/jenkinsTests.tmp/jenkins5732271979740946594test/workspace/job/node_modules/sass-loader/lib/loader.js!../core-shipyard/src/styles/shipyard.scss 190 KiB {0} [built]
        + 1 hidden module
Child html-webpack-plugin for "index.html":
     1 asset
    Entrypoint undefined = index.html
    [0] /tmp/jenkinsTests.tmp/jenkins5732271979740946594test/workspace/job/node_modules/html-webpack-plugin/lib/loader.js!./src/index.html 811 bytes {0} [built]
    [2] (webpack)/buildin/global.js 472 bytes {0} [built]
    [3] (webpack)/buildin/module.js 497 bytes {0} [built]
        + 1 hidden module
lerna success run Ran npm script 'build' in 1 package in 61.0s:
lerna success - @cloudbees/core-ui
Done in 61.86s.
+ yarn build-storybooks
yarn run v1.3.2
$ lerna run storybook-build
lerna notice cli v3.8.4
lerna info versioning independent
lerna info ci enabled
lerna info Executing command in 2 packages: "yarn run storybook-build"
lerna info run Ran npm script 'storybook-build' in '@cloudbees/core-shipyard' in 31.2s:
$ rimraf ../../build/shipyard && build-storybook -c .storybook -o ../../build/shipyard
lerna info run Ran npm script 'storybook-build' in '@cloudbees/core-ui' in 34.9s:
$ rimraf ../../build/stories && build-storybook -c .storybook -o ../../build/stories
lerna success run Ran npm script 'storybook-build' in 2 packages in 66.1s:
lerna success - @cloudbees/core-shipyard
lerna success - @cloudbees/core-ui
Done in 66.76s.
+ docker build -t docker.io/jenkinsxio/core-frontend:0.0.0-SNAPSHOT-PR-535-2 .
Sending build context to Docker daemon  432.1MB
Step 1/2 : FROM jenkinsxio/core-backend:0.0.147
0.0.147: Pulling from jenkinsxio/core-backend
cd784148e348: Already exists
dae719557bd2: Pulling fs layer
f037497d2a79: Pulling fs layer
cfc6501322fc: Pulling fs layer
edad3da46934: Pulling fs layer
cc26107c74fc: Pulling fs layer
f230adaa32c5: Pulling fs layer
edad3da46934: Waiting
cc26107c74fc: Waiting
f230adaa32c5: Waiting
f037497d2a79: Verifying Checksum
f037497d2a79: Download complete
cfc6501322fc: Verifying Checksum
cfc6501322fc: Download complete
dae719557bd2: Verifying Checksum
dae719557bd2: Download complete
dae719557bd2: Pull complete
f037497d2a79: Pull complete
cfc6501322fc: Pull complete
edad3da46934: Download complete
cc26107c74fc: Download complete
edad3da46934: Pull complete
f230adaa32c5: Verifying Checksum
f230adaa32c5: Download complete
cc26107c74fc: Pull complete
f230adaa32c5: Pull complete
Digest: sha256:b94853b1109d5be7040aff23ea9078b96b50b9b47883ac0a56c185dd8b599787
Status: Downloaded newer image for jenkinsxio/core-backend:0.0.147
 ---> 1f10ac2f41cf
Step 2/2 : COPY ./build /
 ---> 6a13a951c70d
Removing intermediate container 737acfb7d411
Successfully built 6a13a951c70d
+ docker push docker.io/jenkinsxio/core-frontend:0.0.0-SNAPSHOT-PR-535-2
The push refers to a repository [docker.io/jenkinsxio/core-frontend]
0b445608fec6: Preparing
4894d2cf7f74: Preparing
ee2981a2d9c3: Preparing
50c2069dc67e: Preparing
3fec6f3910f3: Preparing
18fbf516dd38: Preparing
64d3b49e1527: Preparing
7bff100f35cb: Preparing
18fbf516dd38: Waiting
7bff100f35cb: Waiting
64d3b49e1527: Waiting
4894d2cf7f74: Mounted from jenkinsxio/core-backend
50c2069dc67e: Mounted from jenkinsxio/core-backend
ee2981a2d9c3: Mounted from jenkinsxio/core-backend
3fec6f3910f3: Mounted from jenkinsxio/core-backend
7bff100f35cb: Layer already exists
18fbf516dd38: Mounted from jenkinsxio/core-backend
64d3b49e1527: Mounted from jenkinsxio/core-backend
0b445608fec6: Pushed
0.0.0-SNAPSHOT-PR-535-2: digest: sha256:e94f5df936e7b4278efa3ad02fe89247c8cca446733ef1be1f2ae1174f08463c size: 2007
[Pipeline] sh
+ ./scripts/ci/e2e.sh
+ set -e
+ apt-get install --fix-missing -y xvfb
Reading package lists...
Building dependency tree...
Reading state information...
xvfb is already the newest version (2:1.19.2-1+deb9u5).
0 upgraded, 0 newly installed, 0 to remove and 9 not upgraded.
+ apt-get install --fix-missing -y libgconf-2-4
Reading package lists...
Building dependency tree...
Reading state information...
The following additional packages will be installed:
  gconf-service gconf2-common
The following NEW packages will be installed:
  gconf-service gconf2-common libgconf-2-4
0 upgraded, 3 newly installed, 0 to remove and 9 not upgraded.
Need to get 1881 kB of archives.
After this operation, 7679 kB of additional disk space will be used.
Get:1 http://deb.debian.org/debian stretch/main amd64 gconf2-common all 3.2.6-4 [1040 kB]
Get:2 http://deb.debian.org/debian stretch/main amd64 libgconf-2-4 amd64 3.2.6-4+b1 [427 kB]
Get:3 http://deb.debian.org/debian stretch/main amd64 gconf-service amd64 3.2.6-4+b1 [415 kB]
debconf: delaying package configuration, since apt-utils is not installed
Fetched 1881 kB in 0s (18.9 MB/s)
Selecting previously unselected package gconf2-common.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 36156 files and directories currently installed.)
Preparing to unpack .../gconf2-common_3.2.6-4_all.deb ...
Unpacking gconf2-common (3.2.6-4) ...
Selecting previously unselected package libgconf-2-4:amd64.
Preparing to unpack .../libgconf-2-4_3.2.6-4+b1_amd64.deb ...
Unpacking libgconf-2-4:amd64 (3.2.6-4+b1) ...
Selecting previously unselected package gconf-service.
Preparing to unpack .../gconf-service_3.2.6-4+b1_amd64.deb ...
Unpacking gconf-service (3.2.6-4+b1) ...
Setting up gconf2-common (3.2.6-4) ...
debconf: unable to initialize frontend: Dialog
debconf: (TERM is not set, so the dialog frontend is not usable.)
debconf: falling back to frontend: Readline

Creating config file /etc/gconf/2/path with new version
Setting up libgconf-2-4:amd64 (3.2.6-4+b1) ...
Setting up gconf-service (3.2.6-4+b1) ...
Processing triggers for libc-bin (2.24-11+deb9u3) ...
+ previewURL=http://0.0.0.0:9000
+ echo 'Running e2e tests against http://0.0.0.0:9000'
Running e2e tests against http://0.0.0.0:9000
+ yarn build-server
yarn run v1.3.2
$ forever start -c pushstate-server ./build 9000 index.html
[33mwarn[39m:    --minUptime not set. Defaulting to: 1000ms
[33mwarn[39m:    --spinSleepTime not set. Your script will exit if it does not stay up for at least 1000ms
[32minfo[39m:    Forever processing file: [90m./build[39m
Done in 0.45s.
+ CYPRESS_CORE_UI=http://0.0.0.0:9000
+ yarn cypress
yarn run v1.3.2
$ lerna run cypress-run --stream --scope @cloudbees/core-ui
lerna notice cli v3.8.4
lerna info versioning independent
lerna info ci enabled
lerna info filter [ '@cloudbees/core-ui' ]
lerna info Executing command in 1 package: "yarn run cypress-run"
@cloudbees/core-ui: $ cypress run
@cloudbees/core-ui: It looks like this is your first time using Cypress: 3.1.4
@cloudbees/core-ui: [?25l[09:22:32]  Verifying Cypress can run /builder/home/.cache/Cypress/3.1.4/Cypress [started]
@cloudbees/core-ui: [09:22:37]  Verifying Cypress can run /builder/home/.cache/Cypress/3.1.4/Cypress [completed]
@cloudbees/core-ui: [?25h
@cloudbees/core-ui: Opening Cypress...
@cloudbees/core-ui: ================================================================================
@cloudbees/core-ui:   (Run Starting)
@cloudbees/core-ui:   ┌────────────────────────────────────────────────────────────────────────────┐
@cloudbees/core-ui:   │ Cypress:  3.1.4                                                            │
@cloudbees/core-ui:   │ Browser:  Electron 59 (headless)                                           │
@cloudbees/core-ui:   │ Specs:    7 found (environment/EnvironmentAppActivity.spec.ts, environmen… │
@cloudbees/core-ui:   └────────────────────────────────────────────────────────────────────────────┘
@cloudbees/core-ui: ────────────────────────────────────────────────────────────────────────────────
@cloudbees/core-ui:                                                                                 
@cloudbees/core-ui:   Running: environment/EnvironmentAppActivity.spec.ts...               (1 of 7) 
@cloudbees/core-ui:   Environment App Activity
@cloudbees/core-ui:     ✓ can see app activity (1710ms)
@cloudbees/core-ui:   1 passing (4s)
@cloudbees/core-ui:   (Results)
@cloudbees/core-ui:   ┌──────────────────────────────────────────────────────────┐
@cloudbees/core-ui:   │ Tests:        1                                          │
@cloudbees/core-ui:   │ Passing:      1                                          │
@cloudbees/core-ui:   │ Failing:      0                                          │
@cloudbees/core-ui:   │ Pending:      0                                          │
@cloudbees/core-ui:   │ Skipped:      0                                          │
@cloudbees/core-ui:   │ Screenshots:  0                                          │
@cloudbees/core-ui:   │ Video:        false                                      │
@cloudbees/core-ui:   │ Duration:     3 seconds                                  │
@cloudbees/core-ui:   │ Spec Ran:     environment/EnvironmentAppActivity.spec.ts │
@cloudbees/core-ui:   └──────────────────────────────────────────────────────────┘
@cloudbees/core-ui: ────────────────────────────────────────────────────────────────────────────────
@cloudbees/core-ui:                                                                                 
@cloudbees/core-ui:   Running: environment/EnvironmentPromote.spec.ts...                   (2 of 7) 
@cloudbees/core-ui:   Environment Promote
@cloudbees/core-ui:     ✓ can promote an Application (1756ms)
@cloudbees/core-ui:   1 passing (3s)
@cloudbees/core-ui:   (Results)
@cloudbees/core-ui:   ┌──────────────────────────────────────────────────────┐
@cloudbees/core-ui:   │ Tests:        1                                      │
@cloudbees/core-ui:   │ Passing:      1                                      │
@cloudbees/core-ui:   │ Failing:      0                                      │
@cloudbees/core-ui:   │ Pending:      0                                      │
@cloudbees/core-ui:   │ Skipped:      0                                      │
@cloudbees/core-ui:   │ Screenshots:  0                                      │
@cloudbees/core-ui:   │ Video:        false                                  │
@cloudbees/core-ui:   │ Duration:     3 seconds                              │
@cloudbees/core-ui:   │ Spec Ran:     environment/EnvironmentPromote.spec.ts │
@cloudbees/core-ui:   └──────────────────────────────────────────────────────┘
@cloudbees/core-ui: ────────────────────────────────────────────────────────────────────────────────
@cloudbees/core-ui:                                                                                 
@cloudbees/core-ui:   Running: layout/LayoutNavigation.spec.ts...                          (3 of 7) 
@cloudbees/core-ui:   Layout Navigation
@cloudbees/core-ui:     ✓ initialy only display Teams (1394ms)
@cloudbees/core-ui:     ✓ can navigate to Projects (165ms)
@cloudbees/core-ui:     ✓ can navigate to Environments (139ms)
@cloudbees/core-ui:   3 passing (3s)
@cloudbees/core-ui:   (Results)
@cloudbees/core-ui:   ┌───────────────────────────────────────────────┐
@cloudbees/core-ui:   │ Tests:        3                               │
@cloudbees/core-ui:   │ Passing:      3                               │
@cloudbees/core-ui:   │ Failing:      0                               │
@cloudbees/core-ui:   │ Pending:      0                               │
@cloudbees/core-ui:   │ Skipped:      0                               │
@cloudbees/core-ui:   │ Screenshots:  0                               │
@cloudbees/core-ui:   │ Video:        false                           │
@cloudbees/core-ui:   │ Duration:     3 seconds                       │
@cloudbees/core-ui:   │ Spec Ran:     layout/LayoutNavigation.spec.ts │
@cloudbees/core-ui:   └───────────────────────────────────────────────┘
@cloudbees/core-ui: ────────────────────────────────────────────────────────────────────────────────
@cloudbees/core-ui:                                                                                 
@cloudbees/core-ui:   Running: layout/LayoutNavigationToggle.spec.ts...                    (4 of 7) 
@cloudbees/core-ui:   Layout Navigation Toggle
@cloudbees/core-ui:     ✓ can expand / collapse Navigation (1181ms)
@cloudbees/core-ui:   1 passing (3s)
@cloudbees/core-ui:   (Results)
@cloudbees/core-ui:   ┌─────────────────────────────────────────────────────┐
@cloudbees/core-ui:   │ Tests:        1                                     │
@cloudbees/core-ui:   │ Passing:      1                                     │
@cloudbees/core-ui:   │ Failing:      0                                     │
@cloudbees/core-ui:   │ Pending:      0                                     │
@cloudbees/core-ui:   │ Skipped:      0                                     │
@cloudbees/core-ui:   │ Screenshots:  0                                     │
@cloudbees/core-ui:   │ Video:        false                                 │
@cloudbees/core-ui:   │ Duration:     2 seconds                             │
@cloudbees/core-ui:   │ Spec Ran:     layout/LayoutNavigationToggle.spec.ts │
@cloudbees/core-ui:   └─────────────────────────────────────────────────────┘
@cloudbees/core-ui: ────────────────────────────────────────────────────────────────────────────────
@cloudbees/core-ui:                                                                                 
@cloudbees/core-ui:   Running: layout/LayoutUserInfo.spec.ts...                            (5 of 7) 
@cloudbees/core-ui:   Layout User Info
@cloudbees/core-ui:     ✓ can display User information (958ms)
@cloudbees/core-ui:   1 passing (3s)
@cloudbees/core-ui:   (Results)
@cloudbees/core-ui:   ┌─────────────────────────────────────────────┐
@cloudbees/core-ui:   │ Tests:        1                             │
@cloudbees/core-ui:   │ Passing:      1                             │
@cloudbees/core-ui:   │ Failing:      0                             │
@cloudbees/core-ui:   │ Pending:      0                             │
@cloudbees/core-ui:   │ Skipped:      0                             │
@cloudbees/core-ui:   │ Screenshots:  0                             │
@cloudbees/core-ui:   │ Video:        false                         │
@cloudbees/core-ui:   │ Duration:     2 seconds                     │
@cloudbees/core-ui:   │ Spec Ran:     layout/LayoutUserInfo.spec.ts │
@cloudbees/core-ui:   └─────────────────────────────────────────────┘
@cloudbees/core-ui: ────────────────────────────────────────────────────────────────────────────────
@cloudbees/core-ui:                                                                                 
@cloudbees/core-ui:   Running: team/TeamConnect.spec.ts...                                 (6 of 7) 
@cloudbees/core-ui:   Team Connect
@cloudbees/core-ui:     ✓ can display Connect information  (1500ms)
@cloudbees/core-ui:   1 passing (3s)
@cloudbees/core-ui:   (Results)
@cloudbees/core-ui:   ┌────────────────────────────────────────┐
@cloudbees/core-ui:   │ Tests:        1                        │
@cloudbees/core-ui:   │ Passing:      1                        │
@cloudbees/core-ui:   │ Failing:      0                        │
@cloudbees/core-ui:   │ Pending:      0                        │
@cloudbees/core-ui:   │ Skipped:      0                        │
@cloudbees/core-ui:   │ Screenshots:  0                        │
@cloudbees/core-ui:   │ Video:        false                    │
@cloudbees/core-ui:   │ Duration:     3 seconds                │
@cloudbees/core-ui:   │ Spec Ran:     team/TeamConnect.spec.ts │
@cloudbees/core-ui:   └────────────────────────────────────────┘
@cloudbees/core-ui: ────────────────────────────────────────────────────────────────────────────────
@cloudbees/core-ui:                                                                                 
@cloudbees/core-ui:   Running: team/TeamList.spec.ts...                                    (7 of 7) 
@cloudbees/core-ui:   Team List
@cloudbees/core-ui:     ✓ can select a Team (1530ms)
@cloudbees/core-ui:   1 passing (3s)
@cloudbees/core-ui:   (Results)
@cloudbees/core-ui:   ┌─────────────────────────────────────┐
@cloudbees/core-ui:   │ Tests:        1                     │
@cloudbees/core-ui:   │ Passing:      1                     │
@cloudbees/core-ui:   │ Failing:      0                     │
@cloudbees/core-ui:   │ Pending:      0                     │
@cloudbees/core-ui:   │ Skipped:      0                     │
@cloudbees/core-ui:   │ Screenshots:  0                     │
@cloudbees/core-ui:   │ Video:        false                 │
@cloudbees/core-ui:   │ Duration:     3 seconds             │
@cloudbees/core-ui:   │ Spec Ran:     team/TeamList.spec.ts │
@cloudbees/core-ui:   └─────────────────────────────────────┘
@cloudbees/core-ui: ================================================================================
@cloudbees/core-ui:   (Run Finished)
@cloudbees/core-ui:       Spec                                    Tests  Pass…  Fail…  Pend…  Skip… 
@cloudbees/core-ui:   ┌────────────────────────────────────────────────────────────────────────────┐
@cloudbees/core-ui:   │ ✔ environment/EnvironmentAppAc…   00:03      1      1      -      -      - │
@cloudbees/core-ui:   ├────────────────────────────────────────────────────────────────────────────┤
@cloudbees/core-ui:   │ ✔ environment/EnvironmentPromo…   00:03      1      1      -      -      - │
@cloudbees/core-ui:   ├────────────────────────────────────────────────────────────────────────────┤
@cloudbees/core-ui:   │ ✔ layout/LayoutNavigation.spec…   00:03      3      3      -      -      - │
@cloudbees/core-ui:   ├────────────────────────────────────────────────────────────────────────────┤
@cloudbees/core-ui:   │ ✔ layout/LayoutNavigationToggl…   00:02      1      1      -      -      - │
@cloudbees/core-ui:   ├────────────────────────────────────────────────────────────────────────────┤
@cloudbees/core-ui:   │ ✔ layout/LayoutUserInfo.spec.ts   00:02      1      1      -      -      - │
@cloudbees/core-ui:   ├────────────────────────────────────────────────────────────────────────────┤
@cloudbees/core-ui:   │ ✔ team/TeamConnect.spec.ts        00:03      1      1      -      -      - │
@cloudbees/core-ui:   ├────────────────────────────────────────────────────────────────────────────┤
@cloudbees/core-ui:   │ ✔ team/TeamList.spec.ts           00:03      1      1      -      -      - │
@cloudbees/core-ui:   └────────────────────────────────────────────────────────────────────────────┘
@cloudbees/core-ui:     All specs passed!                 00:21      9      9      -      -      -  
@cloudbees/core-ui: [?25h
lerna success run Ran npm script 'cypress-run' in 1 package in 62.2s:
lerna success - @cloudbees/core-ui
Done in 62.80s.
+ yarn build-server-stop
yarn run v1.3.2
$ forever stopall && kill-port 9000
[32minfo[39m:    Forever stopped processes:
[90mdata[39m:    [37m   [39m [37muid[39m  [90mcommand[39m          [90mscript[39m                [37mforever[39m [37mpid[39m  [37mid[39m [35mlogfile[39m                         [33muptime[39m      
[90mdata[39m:    [0] 1ZSh [90mpushstate-server[39m [90mbuild 9000 index.html[39m 1535    1557    [35m/builder/home/.forever/1ZSh.log[39m [33m0:0:1:3.773[39m 
Process on port 9000 killed
Done in 0.58s.
[Pipeline] dir
Running in /tmp/jenkinsTests.tmp/jenkins5732271979740946594test/workspace/job/charts/preview
[Pipeline] {
[Pipeline] retry
[Pipeline] {
[Pipeline] sh
+ make preview
helm init --client-only
Creating /builder/home/.helm 
Creating /builder/home/.helm/repository 
Creating /builder/home/.helm/repository/cache 
Creating /builder/home/.helm/repository/local 
Creating /builder/home/.helm/plugins 
Creating /builder/home/.helm/starters 
Creating /builder/home/.helm/cache/archive 
Creating /builder/home/.helm/repository/repositories.yaml 
Adding stable repo with URL: https://kubernetes-charts.storage.googleapis.com 
Adding local repo with URL: http://127.0.0.1:8879/charts 
$HELM_HOME has been configured at /builder/home/.helm.
Not installing Tiller due to 'client-only' flag having been set
Happy Helming!
helm repo add chartmuseum http://chartmuseum.jenkins-x.io
"chartmuseum" has been added to your repositories
sed -i -e "s/version:.*/version: 0.0.0-SNAPSHOT-PR-535-2/" Chart.yaml
sed -i -e "s/version:.*/version: 0.0.0-SNAPSHOT-PR-535-2/" ../*/Chart.yaml
sed -i -e "s/repository: .*/repository: docker.io\/jenkinsxio\/core-frontend/" values.yaml
sed -i -e "s/tag: .*/tag: 0.0.0-SNAPSHOT-PR-535-2/" values.yaml
echo "  version: 0.0.0-SNAPSHOT-PR-535-2" >> requirements.yaml
helm dependency build
Hang tight while we grab the latest from your chart repositories...
...Unable to get an update from the "local" chart repository (http://127.0.0.1:8879/charts):
	Get http://127.0.0.1:8879/charts/index.yaml: dial tcp 127.0.0.1:8879: connect: connection refused
...Successfully got an update from the "chartmuseum" chart repository
...Successfully got an update from the "stable" chart repository
Update Complete. ⎈Happy Helming!⎈
Saving 3 charts
Downloading exposecontroller from repo http://chartmuseum.jenkins-x.io
Downloading exposecontroller from repo http://chartmuseum.jenkins-x.io
Deleting outdated charts
helm lint
==> Linting .
Lint OK

1 chart(s) linted, no failures
gcloud auth activate-service-account --key-file ****
Activated service account credentials for: [jx-212@jenkinsx-dev.iam.gserviceaccount.com]
gcloud container clusters get-credentials anthorse --zone europe-west1-b --project jenkinsx-dev
Fetching cluster endpoint and auth data.
kubeconfig entry generated for anthorse.
[Pipeline] }
[Pipeline] // retry
[Pipeline] sh
+ jx --version
+ echo jx version: 1.3.699
jx version: 1.3.699
[Pipeline] sh
+ jx ns jx -b
Using namespace 'jx' from context named 'gke_jenkinsx-dev_europe-west1-b_anthorse' on server 'https://35.190.196.114'.
[Pipeline] sh
+ helm init --upgrade --force-upgrade --wait
$HELM_HOME has been configured at /builder/home/.helm.

Tiller (the Helm server-side component) has been upgraded to the current version.
Happy Helming!
[Pipeline] sh
+ jx preview --dev-namespace jx --app core --dir ../..
Creating a preview
Commit author email is empty for: e4f0294e9394a9cd183e6c60b09620ea26c3ad39
Looking for commits in: /tmp/jenkinsTests.tmp/jenkins5732271979740946594test/workspace/job/
PullRequest author email is empty
Found commit author match for: imeredith with email address: ivan@ivan.net.nz
CreateOrUpdateUser: imeredith <ivan@ivan.net.nz>
Existing user found: ivan@ivan.net.nz
Namespace jx-cloudbees-core-frontend-pr-535 created 
 expose:
  Annotations:
    helm.sh/hook: post-install,post-upgrade
    helm.sh/hook-delete-policy: hook-succeeded
  config:
    domain: 104.155.31.11.nip.io
    exposer: Ingress
    http: "true"
preview:
  image:
    repository: 10.51.248.122:5000/jenkinsxio/core-frontend
    tag: 0.0.0-SNAPSHOT-PR-535-2
Applying generated chart . YAML via kubectl in dir: /tmp/helm-template-workdir-580698094/preview/output
role.rbac.authorization.k8s.io/cleanup created
rolebinding.rbac.authorization.k8s.io/cleanup created
serviceaccount/cleanup created
deployment.extensions/preview-core created
clusterrolebinding.rbac.authorization.k8s.io/preview-core configured
service/preview-core created
serviceaccount/core created
configmap/exposecontroller created
role.rbac.authorization.k8s.io/expose created
rolebinding.rbac.authorization.k8s.io/expose created
serviceaccount/expose created
Applying Helm hook post-upgrade YAML via kubectl in file: /tmp/helm-template-workdir-580698094/preview/helmHooks/preview/charts/expose/templates/job.yaml
job.batch/expose created
Waiting for helm post-upgrade hook Job expose to complete before removing it
Deleting helm hook sources from file: /tmp/helm-template-workdir-580698094/preview/helmHooks/preview/charts/expose/templates/job.yaml
job.batch "expose" deleted
Removing Kubernetes resources from older releases using selector: jenkins.io/chart-release=preview,jenkins.io/version!=0.0.0-SNAPSHOT-PR-535-2
Updating PipelineActivities cloudbees-core-frontend-pr-535-2 which has status 
Preview application is now available at: http://core.jx-cloudbees-core-frontend-pr-535.104.155.31.11.nip.io

[Pipeline] }
[Pipeline] // dir
Post stage
[Pipeline] archiveArtifacts
Archiving artifacts
Recording fingerprints
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Build and Deploy Release)
Stage "Build and Deploy Release" skipped due to when conditional
[Pipeline] }
[Pipeline] // stage
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // withCredentials
[Pipeline] }
[Pipeline] // node
[Pipeline] End of Pipeline
